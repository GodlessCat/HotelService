<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="common/fragments/header :: header-css"></div>
</head>
<body>

<div th:replace="common/fragments/header :: header"></div>

<div th:switch="${requests.size()}" class="container" style="margin-top: 80px">
    <div class="row">
        <div class="col-md-12">
            <h2 th:case="0">Заявок нет</h2>
            <div th:case="*">
                <h2 class="my-5">Заявки</h2>
                <table class="table table-striped table-responsive-md">
                    <thead>
                    <tr>
                        <th>Номер</th>
                        <th>Имя</th>
                        <th>Фамилия</th>
                        <th>Комната</th>
                        <th>Описание проблемы</th>
                        <th>Статус</th>
                        <th>Рейтинг</th>
                        <th>Назначенный сотрудник</th>
                        <th>Коментарий диспетчера</th>
                        <th>Материалы</th>
                        <th>Действие</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="request : ${requests}">
                        <td th:text="${request.id}"></td>
                        <td th:text="${request.firstName}"></td>
                        <td th:text="${request.lastName}"></td>
                        <td th:text="${request.room}"></td>
                        <td th:text="${request.description}"></td>
                        <td th:text="${request.status.getString()}"></td>
                        <td th:text="${request.rating}"></td>
                        <td th:text="${request.worker}"></td>
                        <td th:text="${request.dispatcher_comment}"></td>
                        <td th:text="${request.inventory}"></td>

                        <td>
                            <a th:if="${request.status.getString() == 'Назначено' ||
                            request.status.getString() == 'Выполнено' ||
                            request.status.getString() == 'Отменено сотрудником'}"
                               th:href="@{/requests/{id}(id=${request.id})}" class="btn btn-light"><i
                                    class="fas fa-edit"></i>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div th:replace="common/fragments/footer :: footer"></div>

</body>
</html>